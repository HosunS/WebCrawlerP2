¦Ifinal_url¡DtypeLhttp_headers¢DtypeEvalue‡¢Ak¢DtypeEvalueNContent-LengthAv¢DtypeEvalueD2076¢Ak¢DtypeEvalueMAccept-RangesAv¢DtypeEvalueEbytes¢Ak¢DtypeEvalueFServerAv¢DtypeEvalueX„Apache/2.4.6 (CentOS) OpenSSL/1.0.2k-fips SVN/1.7.14 mod_wsgi/3.4 Python/2.7.5 Phusion_Passenger/4.0.53 mod_perl/2.0.10 Perl/v5.16.3¢Ak¢DtypeEvalueMLast-ModifiedAv¢DtypeEvalueXWed, 17 Apr 2013 01:54:01 GMT¢Ak¢DtypeEvalueDETagAv¢DtypeEvalueS"81c-4da84c286e040"¢Ak¢DtypeEvalueDDateAv¢DtypeEvalueXSat, 09 Feb 2019 18:12:00 GMT¢Ak¢DtypeEvalueLContent-TypeAv¢DtypeEvalueXtext/plain; charset=UTF-8Kraw_content¢DtypeEvalueY/*
  $Id: wrapperondisk.h 4927 2009-12-17 21:37:29Z abehm $

  Copyright (C) 2010 by The Regents of the University of California
	
  Redistribution of this file is permitted under
  the terms of the BSD license.
    
  Date: 02/01/2010
  Author: Alexander Behm <abehm (at) ics.uci.edu>
*/

#ifndef _wrapperondisk_h_
#define _wrapperondisk_h_

#include "wrapperabs.h"

template <class SimilarityMetric = SimMetricEd>
class WrapperOnDiskSimple : public WrapperAbs<FtIndexerOnDisk<>, FtSearcherOnDisk<>, SimilarityMetric> {  
private:
  OnDiskMergerSimple<> onDiskMerger;

public:  
  WrapperOnDiskSimple(StringContainerRM* strContainer, 
		      const string& invListsFileName = "invLists.ix", 	
		      unsigned gramLength = 3, 
		      bool usePartFilter = true,
		      bool usePrePost = true) {
    this->gramGen = new GramGenFixedLen(gramLength, usePrePost);
    this->indexer = new FtIndexerOnDisk<>(strContainer, 
					  this->gramGen, 
					  false, 
					  invListsFileName);
    if(usePartFilter) this->indexer->autoAddPartFilter();    
    this->searcher = new FtSearcherOnDisk<>(&onDiskMerger, this->indexer);
    this->simMetric = new SimilarityMetric(*(this->gramGen));
  }  
};

template <class SimilarityMetric = SimMetricEd>
class WrapperOnDiskAdapt : public WrapperAbs<FtIndexerOnDisk<>,
					     FtSearcherOnDisk<FtIndexerOnDisk<>, OnDiskMergerAdapt<> >, 
					     SimilarityMetric> {  
private:
  OnDiskMergerAdapt<> onDiskMerger;

public:  
  WrapperOnDiskAdapt(StringContainerRM* strContainer, 
		     const string& invListsFileName = "invLists.ix", 	
		     unsigned gramLength = 3, 
		     bool usePartFilter = true,
		     bool usePrePost = true) {
    this->gramGen = new GramGenFixedLen(gramLength, usePrePost);
    this->indexer = new FtIndexerOnDisk<>(strContainer, 
					  this->gramGen, 
					  false, 
					  invListsFileName);
    if(usePartFilter) this->indexer->autoAddPartFilter();    
    this->searcher = new FtSearcherOnDisk<>(&onDiskMerger, this->indexer);
    this->simMetric = new SimilarityMetric(*(this->gramGen));
  }  
};

#endif
Mis_redirected¢DtypeEvalueôIhttp_code¢DtypeEvalueÈQdownload_complete¢DtypeEvalueõ
¦Ifinal_url¡DtypeLhttp_headers¢DtypeEvalue‡¢Ak¢DtypeEvalueNContent-LengthAv¢DtypeEvalueD1056¢Ak¢DtypeEvalueMAccept-RangesAv¢DtypeEvalueEbytes¢Ak¢DtypeEvalueFServerAv¢DtypeEvalueX4Apache/2.4.6 (CentOS) OpenSSL/1.0.2k-fips SVN/1.7.14¢Ak¢DtypeEvalueMLast-ModifiedAv¢DtypeEvalueXThu, 22 Feb 2018 07:03:13 GMT¢Ak¢DtypeEvalueDETagAv¢DtypeEvalueS"420-565c7a32abb20"¢Ak¢DtypeEvalueDDateAv¢DtypeEvalueXFri, 01 Feb 2019 06:14:17 GMT¢Ak¢DtypeEvalueLContent-TypeAv¢DtypeEvalueXtext/plain; charset=UTF-8Kraw_content¢DtypeEvalueY /*
 *  test_mathop_abs.c
 *  vlfeat
 *
 *  Created by Andrea Vedaldi on 16/07/2009.
 *  Copyright 2009 UCLA. All rights reserved.
 *
 */

#include <vl/random.h>
#include <vl/mathop.h>

#include <math.h>

int
main(int argc VL_UNUSED, char**argv VL_UNUSED)
{
  VlRand * rand = vl_get_rand() ;
  vl_size numData = 100000000 ;
  vl_size i ;
  float * X = vl_malloc(sizeof(float) * numData) ;
  float * Y = vl_malloc(sizeof(float) * numData) ;
  float * X_end = X + numData ;

  for (i = 0 ; i < numData ; ++ i) {
    X[i] = vl_rand_real1(rand) - .5 ;
    Y[i] = 0 ;
  }

  {
    float * Xi = X ;
    float * Yi = Y ;
    vl_tic() ;
    while (Xi < X_end) {
      *Yi++ = fabsf (*Xi++) ;
    }
    VL_PRINTF("fabsf: %.3f\n", vl_toc()) ;
  }

  for (i = 0 ; i < numData ; ++ i) {
    X[i] = vl_rand_real1(rand) - .5 ;
    X[i] = 0 ;
  }

  {
    float * Xi = X ;
    float * Yi = Y ;
    vl_tic() ;
    while (Xi < X_end) {
      *Yi++ = vl_abs_f (*Xi++) ;
    }
    VL_PRINTF("vl_abs_f: %.3f\n", vl_toc()) ;
  }

  vl_free (Y) ;
  vl_free (X) ;

  return 0 ;
}
Mis_redirected¢DtypeEvalueôIhttp_code¢DtypeEvalueÈQdownload_complete¢DtypeEvalueõ
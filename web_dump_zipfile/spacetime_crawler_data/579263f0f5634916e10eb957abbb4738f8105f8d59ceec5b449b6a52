¦Ifinal_url¢DtypeEvaluex*http://cloudberry.ics.uci.edu/quick-start/Lhttp_headers¢DtypeEvalueŠ¢Ak¢DtypeEvalueNContent-LengthAv¢DtypeEvalueE10014¢Ak¢DtypeEvaluePContent-EncodingAv¢DtypeEvalueDgzip¢Ak¢DtypeEvalueDVaryAv¢DtypeEvalueOAccept-Encoding¢Ak¢DtypeEvalueJKeep-AliveAv¢DtypeEvalueQtimeout=5, max=99¢Ak¢DtypeEvalueFServerAv¢DtypeEvalueVApache/2.4.18 (Ubuntu)¢Ak¢DtypeEvalueJConnectionAv¢DtypeEvalueJKeep-Alive¢Ak¢DtypeEvalueDLinkAv¢DtypeEvalueXx<http://cloudberry.ics.uci.edu/wp-json/>; rel="https://api.w.org/", <http://cloudberry.ics.uci.edu/?p=18>; rel=shortlink¢Ak¢DtypeEvalueOX-UA-CompatibleAv¢DtypeEvalueGIE=edge¢Ak¢DtypeEvalueDDateAv¢DtypeEvalueXThu, 31 Jan 2019 03:20:01 GMT¢Ak¢DtypeEvalueLContent-TypeAv¢DtypeEvalueXtext/html; charset=UTF-8Kraw_content¢DtypeEvalueYŠ•
<!DOCTYPE html>
<html lang="en-US" itemscope itemtype="http://schema.org/WebPage">
<head>
	<meta charset="UTF-8">
	<link rel="profile" href="http://gmpg.org/xfn/11">

	<title>Quick Start &#8211; Cloudberry</title>
<meta name="viewport" content="width=device-width, initial-scale=1"><link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Cloudberry &raquo; Feed" href="http://cloudberry.ics.uci.edu/feed/" />
<link rel="alternate" type="application/rss+xml" title="Cloudberry &raquo; Comments Feed" href="http://cloudberry.ics.uci.edu/comments/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/cloudberry.ics.uci.edu\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.5"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56692,8205,9792,65039],[55357,56692,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='estilo-css'  href='http://cloudberry.ics.uci.edu/wp-content/plugins/simple-code-highlighter/estilo.css?ver=4.9.5' type='text/css' media='all' />
<link rel='stylesheet' id='font-awesome-css'  href='http://cloudberry.ics.uci.edu/wp-content/themes/oceanwp/assets/css/third/font-awesome.min.css?ver=4.7.0' type='text/css' media='all' />
<link rel='stylesheet' id='simple-line-icons-css'  href='http://cloudberry.ics.uci.edu/wp-content/themes/oceanwp/assets/css/third/simple-line-icons.min.css?ver=2.4.0' type='text/css' media='all' />
<link rel='stylesheet' id='magnific-popup-css'  href='http://cloudberry.ics.uci.edu/wp-content/themes/oceanwp/assets/css/third/magnific-popup.min.css?ver=1.0.0' type='text/css' media='all' />
<link rel='stylesheet' id='oceanwp-style-css'  href='http://cloudberry.ics.uci.edu/wp-content/themes/oceanwp/assets/css/style.min.css?ver=1.5.10' type='text/css' media='all' />
<link rel='stylesheet' id='oceanwp-google-font-walter-turncoat-css'  href='//fonts.googleapis.com/css?family=Walter+Turncoat%3A100%2C200%2C300%2C400%2C500%2C600%2C700%2C800%2C900%2C100i%2C200i%2C300i%2C400i%2C500i%2C600i%2C700i%2C800i%2C900i&#038;subset=latin&#038;ver=4.9.5' type='text/css' media='all' />
<link rel='stylesheet' id='wp-markdown-prettify-css'  href='http://cloudberry.ics.uci.edu/wp-content/plugins/wp-markdown/css/prettify.css?ver=1.6.1' type='text/css' media='all' />
<link rel='stylesheet' id='enlighter-local-css'  href='http://cloudberry.ics.uci.edu/wp-content/plugins/enlighter/resources/EnlighterJS.min.css?ver=3.5' type='text/css' media='all' />
<link rel='stylesheet' id='oe-widgets-style-css'  href='http://cloudberry.ics.uci.edu/wp-content/plugins/ocean-extra/assets/css/widgets.css?ver=4.9.5' type='text/css' media='all' />
<script type='text/javascript' src='http://cloudberry.ics.uci.edu/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='http://cloudberry.ics.uci.edu/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<link rel='https://api.w.org/' href='http://cloudberry.ics.uci.edu/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://cloudberry.ics.uci.edu/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cloudberry.ics.uci.edu/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.9.5" />
<link rel="canonical" href="http://cloudberry.ics.uci.edu/quick-start/" />
<link rel='shortlink' href='http://cloudberry.ics.uci.edu/?p=18' />
<link rel="alternate" type="application/json+oembed" href="http://cloudberry.ics.uci.edu/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fcloudberry.ics.uci.edu%2Fquick-start%2F" />
<link rel="alternate" type="text/xml+oembed" href="http://cloudberry.ics.uci.edu/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fcloudberry.ics.uci.edu%2Fquick-start%2F&#038;format=xml" />
		<style type="text/css" id="wp-custom-css">
			/* --- Tables --- */table{padding:0}table tr{border-top:1px solid #cccccc;background-color:#ffffff;margin:0;padding:0}table tr:nth-child(2n){background-color:#f8f8f8}table tr th{font-weight:bold;border:1px solid #cccccc;text-align:left;margin:0;padding:6px 13px}table tr td{border:1px solid #cccccc;text-align:left;margin:0;padding:6px 13px}table tr th :first-child,table tr td :first-child{margin-top:0}table tr th :last-child,table tr td :last-child{margin-bottom:0}/* --- Code blocks --- */pre{Â font-size:40 pt;line-height:2em}pre code{white-space:pre;font-size:40 pt}pre.highlight,.highlight >pre,td.code pre{background:#FAFAFA;background-image:linear-gradient(#F9F9F9 50%,#FDFDFD 50%);background-repeat:repeat;background-size:3em 3em;background-position:0 10px;border-left:7px solid #444}code table,code table td,code table th,code table tbody,code table tr,td.gutter pre{padding:0;border:none;background-color:#fff}.highlight >pre{padding:0}td.code pre{border-width:0 0 0 2px;border-style:solid;border-color:#444;border-radius:0}td.gutter{padding-top:3px}.site-header{position:fixed;width:100%;z-index:1000}		</style>
	<!-- OceanWP CSS -->
<style type="text/css">
/* General CSS */body{background-image:url(http://cloudberry.ics.uci.edu/wp-content/uploads/2018/04/notebook-1.png)}a{color:#008aff}a:hover{color:#0085a1}/* Header CSS */#site-logo #site-logo-inner,.oceanwp-social-menu .social-menu-inner,#site-header.full_screen-header .menu-bar-inner,.after-header-content .after-header-content-inner{height:69px}#site-navigation-wrap .dropdown-menu >li >a,.oceanwp-mobile-menu-icon a,.after-header-content-inner >a{line-height:69px}#site-header.transparent-header{background-color:rgba(0,0,0,0.75)}#site-header.has-header-media .overlay-header-media{background-color:rgba(0,0,0,0.5)}#site-logo #site-logo-inner a img,#site-header.center-header #site-navigation-wrap .middle-site-logo a img{max-width:50px}#site-header #site-logo #site-logo-inner a img,#site-header.center-header #site-navigation-wrap .middle-site-logo a img{max-height:50px}#site-logo a.site-logo-text{color:#ffffff}#site-logo a.site-logo-text:hover{color:#ffd306}.effect-one #site-navigation-wrap .dropdown-menu >li >a.menu-link >span:after,.effect-three #site-navigation-wrap .dropdown-menu >li >a.menu-link >span:after,.effect-five #site-navigation-wrap .dropdown-menu >li >a.menu-link >span:before,.effect-five #site-navigation-wrap .dropdown-menu >li >a.menu-link >span:after,.effect-nine #site-navigation-wrap .dropdown-menu >li >a.menu-link >span:before,.effect-nine #site-navigation-wrap .dropdown-menu >li >a.menu-link >span:after{background-color:#ffd306}.effect-four #site-navigation-wrap .dropdown-menu >li >a.menu-link >span:before,.effect-four #site-navigation-wrap .dropdown-menu >li >a.menu-link >span:after,.effect-seven #site-navigation-wrap .dropdown-menu >li >a.menu-link:hover >span:after,.effect-seven #site-navigation-wrap .dropdown-menu >li.sfHover >a.menu-link >span:after{color:#ffd306}.effect-seven #site-navigation-wrap .dropdown-menu >li >a.menu-link:hover >span:after,.effect-seven #site-navigation-wrap .dropdown-menu >li.sfHover >a.menu-link >span:after{text-shadow:10px 0 #ffd306,-10px 0 #ffd306}#site-navigation-wrap .dropdown-menu >li >a,.oceanwp-mobile-menu-icon a,#searchform-header-replace-close{color:#ffffff}#site-navigation-wrap .dropdown-menu >li >a:hover,.oceanwp-mobile-menu-icon a:hover,#searchform-header-replace-close:hover{color:#ffd306}#site-navigation-wrap .dropdown-menu >li >a:hover,#site-navigation-wrap .dropdown-menu >li.sfHover >a{background-color:#000000}.dropdown-menu .sub-menu,#searchform-dropdown,.current-shop-items-dropdown{border-color:#ffd306}.navigation li.mega-cat .mega-cat-title{background-color:#ffffff}/* Sidebar CSS */.widget-title{border-color:#efd700}.widget-title{margin-bottom:28px}/* Typography CSS */body{font-weight:400;font-size:20px;color:#2d2d2d;line-height:2;letter-spacing:.4px}h1{color:#000000}#site-logo a.site-logo-text{font-family:Walter Turncoat;font-size:36px;line-height:1.2;letter-spacing:2px;text-transform:uppercase}#site-navigation-wrap .dropdown-menu >li >a,#site-header.full_screen-header .fs-dropdown-menu >li >a,#site-header.top-header #site-navigation-wrap .dropdown-menu >li >a,#site-header.center-header #site-navigation-wrap .dropdown-menu >li >a,#site-header.medium-header #site-navigation-wrap .dropdown-menu >li >a,.oceanwp-mobile-menu-icon a{font-size:16px;letter-spacing:2.4px;text-transform:uppercase}
</style></head>

<body class="page-template-default page page-id-18 oceanwp-theme sidebar-mobile content-full-width content-max-width has-transparent-header no-header-border default-breakpoint has-breadcrumbs has-fixed-footer elementor-default">

	
	<div id="outer-wrap" class="site clr">

		
		<div id="wrap" class="clr">

						
				
					<div id="transparent-header-wrap" class="clr">

<header id="site-header" class="transparent-header clr" data-height="69" itemscope="itemscope" itemtype="http://schema.org/WPHeader">

	
		
		<div id="site-header-inner" class="clr container">

			
			

<div id="site-logo" class="clr" itemscope itemtype="http://schema.org/Brand">

	
	<div id="site-logo-inner" class="clr">

		
			<a href="http://cloudberry.ics.uci.edu/" rel="home" class="site-title site-logo-text">Cloudberry</a>

		
	</div><!-- #site-logo-inner -->

	
	
</div><!-- #site-logo -->

			<div id="site-navigation-wrap" class="clr">
		
			
			
			<nav id="site-navigation" class="navigation main-navigation clr" itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">

				<ul id="menu-main-menu" class="main-menu dropdown-menu sf-menu"><li id="menu-item-21" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-21"><a href="http://cloudberry.ics.uci.edu" class="menu-link"><span class="text-wrap">Home</span></a></li><li id="menu-item-39" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-39 nav-no-click"><a href="http://cloudberry.ics.uci.edu/category/uncategorized/" class="menu-link"><span class="text-wrap">Demo <span class="nav-arrow fa fa-angle-down"></span></span></a>
<ul class="sub-menu">
	<li id="menu-item-23" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-23"><a href="http://cloudberry.ics.uci.edu/apps/twittermap" class="menu-link"><span class="text-wrap">TwitterMap</span></a></li></ul>
</li><li id="menu-item-40" class="menu-item menu-item-type-taxonomy menu-item-object-category current-menu-ancestor current-menu-parent menu-item-has-children dropdown menu-item-40 nav-no-click"><a href="http://cloudberry.ics.uci.edu/category/uncategorized/" class="menu-link"><span class="text-wrap">Resources <span class="nav-arrow fa fa-angle-down"></span></span></a>
<ul class="sub-menu">
	<li id="menu-item-30" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-18 current_page_item menu-item-30"><a href="http://cloudberry.ics.uci.edu/quick-start/" class="menu-link"><span class="text-wrap">Quick Start</span></a></li>	<li id="menu-item-25" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-25"><a href="http://cloudberry.ics.uci.edu/documentation/" class="menu-link"><span class="text-wrap">Documentation</span></a></li>	<li id="menu-item-26" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-26"><a href="https://github.com/ISG-ICS/cloudberry" class="menu-link"><span class="text-wrap">Github</span></a></li></ul>
</li><li id="menu-item-29" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-29"><a href="http://cloudberry.ics.uci.edu/pubs/" class="menu-link"><span class="text-wrap">Pubs</span></a></li><li id="menu-item-28" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-28"><a href="http://cloudberry.ics.uci.edu/news/" class="menu-link"><span class="text-wrap">News</span></a></li><li id="menu-item-27" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-27"><a href="http://cloudberry.ics.uci.edu/about/" class="menu-link"><span class="text-wrap">About</span></a></li></ul>
			</nav><!-- #site-navigation -->

			
			
					</div><!-- #site-navigation-wrap -->
		
		
	
			
	<div class="oceanwp-mobile-menu-icon clr mobile-right">

		
		
		
		<a href="#" class="mobile-menu">
							<i class="fa fa-bars"></i>
							<span class="oceanwp-text">Menu</span>

						</a>

		
		
		
	</div><!-- #oceanwp-mobile-menu-navbar -->


		</div><!-- #site-header-inner -->

		
		
	
	
</header><!-- #site-header -->

	</div>

			
						
			<main id="main" class="site-main clr" >

				

<header class="page-header">

	
	<div class="container clr page-header-inner">

		
			<h1 class="page-header-title clr" itemprop="headline">Quick Start</h1>

			
		
		<nav role="navigation" aria-label="Breadcrumbs" class="site-breadcrumbs clr" itemprop="breadcrumb"><ul class="trail-items" itemscope itemtype="http://schema.org/BreadcrumbList"><meta name="numberOfItems" content="2" /><meta name="itemListOrder" content="Ascending" /><li class="trail-item trail-begin" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a href="http://cloudberry.ics.uci.edu" rel="home"><span itemprop="name"><span class="icon-home"></span><span style="display: none;">Home</span></span></a><meta content="1" itemprop="position" /></li><li class="trail-item trail-end" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><span itemprop="name">Quick Start</span><meta content="2" itemprop="position" /></li></ul></nav>
	</div><!-- .page-header-inner -->

	
	
</header><!-- .page-header -->


	
	<div id="content-wrap" class="container clr">

		
		<div id="primary" class="content-area clr">

			
			<div id="content" class="site-content clr">

				
				
<article class="single-page-article clr">

	
<div class="entry clr" itemprop="text">
		<h1>Setup TwitterMap</h1>
<p>This page includes instructions on how to use Cloudberry and AsterixDB to setup a small instance of <a href="http://cloudberry.ics.uci.edu/demos/twittermap/">TwitterMap</a> on a local machine. The following diagram illustrates its architecture: <img src="../wp-content/uploads/2018/04/twittermap-architecture.png" alt="architecture" /> System requirements:</p>
<ul>
<li>Linux or Mac</li>
<li>At least 4GB memory</li>
</ul>
<h1>0. Setup the environment:</h1>
<p><strong>Step 0.1</strong>: Follow these <a href="http://www.scala-sbt.org/release/docs/Setup.html">instructions</a> to install <code>sbt</code>.</p>
<p><strong>Step 0.2</strong>: Clone the Cloudberry codebase from github.</p>
<pre class="prettyprint">~&gt; git clone https://github.com/ISG-ICS/cloudberry.git</pre>
<p><code></code>Suppose the repostory is cloned to the folder<code>~/cloudberry</code>.</p>
<h1>1. Setup AsterixDB</h1>
<p><strong>Step 1.1</strong>: Move to your home directory:</p>
<pre class="prettyprint">$ cd ~</pre>
<p><strong>Step 1.2</strong>: Download <code>asterix-server-0.9.5-SNAPSHOT-binary-assembly.zip</code> from this <a href="http://cloudberry.ics.uci.edu/img/asterix-server-0.9.5-SNAPSHOT-binary-assembly.zip">link</a>:</p>
<pre class="prettyprint">$ wget http://cloudberry.ics.uci.edu/img/asterix-server-0.9.5-SNAPSHOT-binary-assembly.zip</pre>
<p><strong>Step 1.3</strong>: Uncompress the file:</p>
<pre class="prettyprint">$ unzip asterix-server-0.9.5-SNAPSHOT-binary-assembly.zip</pre>
<p><strong>Step 1.4</strong>: Move to <code>apache-asterixdb-0.9.5-SNAPSHOT/opt/local/bin</code> directory.</p>
<pre class="prettyprint">$ cd apache-asterixdb-0.9.5-SNAPSHOT/opt/local/bin/</pre>
<p><strong>Step 1.5</strong>: Execute <code>start-sample-cluster.sh</code> to start the sample instance. Wait until you see &#8220;INFO: Cluster started and is ACTIVE.&#8221; message.</p>
<pre class="prettyprint">$ ./start-sample-cluster.sh 
CLUSTERDIR=/home/x/apache-asterixdb-0.9.5-SNAPSHOT/opt/local 
INSTALLDIR=/home/x/apache-asterixdb-0.9.5-SNAPSHOT/ 
LOGSDIR=/home/x/apache-asterixdb-0.9.5-SNAPSHOT/opt/local/logs

Using Java version: 1.8.0_XX
INFO: Starting sample cluster...
Using Java version: 1.8.0_XX
INFO: Waiting up to 30 seconds for cluster 127.0.0.1:19002 to be available.
INFO: Cluster started and is ACTIVE.</pre>
<p><code><br />
</code></p>
<p><strong>Step 1.6</strong>: Execute <code>jps</code> to check one instance of &#8220;CCDriver&#8221; and two instances of &#8220;NCService&#8221; and &#8220;NCDriver&#8221; are running:</p>
<pre class="prettyprint">$ jps 
59264 NCService
59280 NCDriver
59265 CCDriver
59446 Jps
59263 NCService
59279 NCDriver</pre>
<p><strong>Step 1.7</strong>: Open the AsterixDB Web interface at <a href="http://localhost:19001">http://localhost:19001</a> and issue the following queries to see the AsterixDB instance is running.</p>
<pre class="prettyprint">select * from Metadata.`Dataverse`; 
Results: { "Dataverse": { "DataverseName": "Default", "DataFormat": "org.apache.asterix.runtime.formats.NonTaggedDataFormat", "Timestamp": "Wed Mar 07 16:13:37 PST 2018", "PendingOp": 0 } } { "Dataverse": { "DataverseName": "Metadata", "DataFormat": "org.apache.asterix.runtime.formats.NonTaggedDataFormat", "Timestamp": "Wed Mar 07 16:13:37 PST 2018", "PendingOp": 0 } }</pre>
<p>Note: You need to execute the following command to stop AsterixDB on</p>
<p><code>apache-asterixdb-0.9.5-SNAPSHOT/opt/local/bin</code> before you shutdown the system.</p>
<pre class="prettyprint">$ ./stop-sample-cluster.sh</pre>
<p>Next time when you want to start/stop your AsterixDB instance, use the following command.</p>
<pre class="prettyprint">$ ~/apache-asterixdb-0.9.5-SNAPSHOT/opt/local/bin/start-sample-cluster.sh
$ ~/apache-asterixdb-0.9.5-SNAPSHOT/opt/local/bin/stop-sample-cluster.sh</pre>
<h1>2. Setup Cloudberry and TwitterMap:</h1>
<p><strong>Step 2.1</strong>: Compile and run the Cloudberry server.</p>
<pre class="prettyprint">~/cloudberry&gt; cd cloudberry
~/cloudberry&gt; sbt compile
~/cloudberry&gt; sbt "project neo" "run"</pre>
<p>Wait until the shell prints the messages shown as following:</p>
<pre class="prettyprint">$ sbt "project neo" "run"
[info] Loading global plugins from /Users/white/.sbt/0.13/plugins
[info] Loading project definition from /Users/white/cloudberry/cloudberry/project
[info] Set current project to cloudberry (in build file:/Users/white/cloudberry/cloudberry/)
[info] Set current project to neo (in build file:/Users/white/cloudberry/cloudberry/)

--- (Running the application, auto-reloading is enabled) ---

[info] p.c.s.NettyServer - Listening for HTTP on /0:0:0:0:0:0:0:0:9000

(Server started, use Ctrl+D to stop and go back to the console...)</pre>
<p><strong>Step 2.2</strong>: Open another terminal window to ingest sample tweets (about 53K) and US population data into AsterixDB.</p>
<pre class="prettyprint">~/cloudberry&gt; cd ../examples/twittermap
~/twittermap&gt; ./script/ingestAllTwitterToLocalCluster.sh</pre>
<p>When it finishes you should see the messages shown as following:</p>
<pre class="prettyprint">Socket 127.0.0.1:10005 - # of ingested records: 260000
Socket 127.0.0.1:10005 - # of total ingested records: 268497
&gt;&gt;&gt; # of ingested records: 268497 Elapsed (s) : 2 (m) : 0 record/sec : 134248.5
&gt;&gt;&gt; An ingestion process is done.
[success] Total time: 3 s, completed Nov 19, 2018 8:44:51 PM
Ingested city population dataset.</pre>
<p><strong>Step 2.3</strong>: Start the TwitterMap Web server (in port 9001) by running the following command in another shell:</p>
<pre class="prettyprint">~/twittermap&gt; sbt "project web" "run 9001"</pre>
<p>Wait until the shell prints the messages shown as following:</p>
<pre class="prettyprint">$ sbt "project web" "run 9001"
[info] Loading global plugins from /Users/white/.sbt/0.13/plugins
...
--- (Running the application, auto-reloading is enabled) ---

[info] p.c.s.NettyServer - Listening for HTTP on /0:0:0:0:0:0:0:0:9001

(Server started, use Ctrl+D to stop and go back to the console...)</pre>
<p><strong>Step 2.4</strong>: Open a browser to access <a href="http://localhost:9001">http://localhost:9001</a> to see the TwitterMap frontend. The first time you open the page, it could take up to several minutes (depending on your machine&#8217;s speed) to show the following Web page:</p>
<p><img class="alignnone wp-image-324 size-full" src="http://cloudberry.ics.uci.edu/wp-content/uploads/2018/11/twittermap-screenshot-nov-18-1.png" alt="" width="2880" height="1800" srcset="http://cloudberry.ics.uci.edu/wp-content/uploads/2018/11/twittermap-screenshot-nov-18-1.png 2880w, http://cloudberry.ics.uci.edu/wp-content/uploads/2018/11/twittermap-screenshot-nov-18-1-300x188.png 300w, http://cloudberry.ics.uci.edu/wp-content/uploads/2018/11/twittermap-screenshot-nov-18-1-768x480.png 768w, http://cloudberry.ics.uci.edu/wp-content/uploads/2018/11/twittermap-screenshot-nov-18-1-1024x640.png 1024w" sizes="(max-width: 2880px) 100vw, 2880px" /></p>
<p><strong>Congratulations!</strong> You have successfully set up TwitterMap using Cloudberry and AsterixDB!</p>
<h1>3. Under the Hood Next we explain the details of the TwitterMap.</h1>
<p>Next we explain the details of the TwitterMap.</p>
<p><strong>Step 3.1 Create a Dataset in AsterixDB</strong></p>
<p>In Step 2.2, we ran a script called <code>examples/twittermap/script/ingestAllTwitterToLocalCluster.sh</code> to create data sets in AsterixDB and ingest data into them. The following are the executed DDL statements.</p>
<pre class="prettyprint">create dataverse twitter if not exists; 
use twitter; 
create type typeUser if not exists as open { 
    id: int64, 
    name: string, 
    screen_name : string, 
    profile_image_url : string?, 
    lang : string, 
    location: string, 
    create_at: date, 
    description: string, 
    followers_count: int32, 
    friends_count: int32, 
    statues_count: int64 
};
create type typePlace if not exists as open{ 
    country : string, 
    country_code : string, 
    full_name : string, 
    id : string, 
    name : string, 
    place_type : string, 
    bounding_box : rectangle 
}; 
create type typeGeoTag if not exists as open { 
    stateID: int32, 
    stateName: string, 
    countyID: int32, 
    countyName: string, 
    cityID: int32?, 
    cityName: string? 
}; 
create type typeTweet if not exists as open{ 
    create_at : datetime, 
    id: int64, 
    text: string, 
    in_reply_to_status : int64, 
    in_reply_to_user : int64, 
    favorite_count : int64, 
    coordinate: point?, 
    retweet_count : int64, 
    lang : string, 
    is_retweet: boolean, 
    hashtags :  ?, 
    user_mentions :  ? , 
    user : typeUser, 
    place : typePlace?, 
    geo_tag: typeGeoTag 
}; 
create dataset ds_tweet(typeTweet) if not exists primary key id 
with filter on create_at with {"merge-policy":{"name":"prefix","parameters":{"max-mergable-component-size":134217728, "max-tolerance-component-count":5}}}; 

create index text_idx if not exists on ds_tweet(text) type fulltext;<code>
</code></pre>
<p>Read thisÂ <a href="https://ci.apache.org/projects/asterixdb/sqlpp/primer-sqlpp.html">page</a>Â about the details.</p>
<p>The script uses a feature called <code>Feed</code> to ingest tweets into AsterixDB. The following statements create a feed called <code>TweetFeed</code>:</p>
<pre class="prettyprint">create feed TweetFeed with { 
    "adapter-name" : "socket_adapter", 
    "sockets" : "asterix_nc1:10001", 
    "address-type" : "nc", 
    "type-name" : "typeTweet", 
    "format" : "adm", 
    "upsert-feed" : "false" 
}; 

connect feed TweetFeed to dataset ds_tweet; 
start feed TweetFeed; <code class="bash">
</code></pre>
<p>The following shell command ingests the data from a local file with tweets into AsterixDB using the definedÂ <code>TweetFeed</code>:</p>
<pre class="prettyprint">gunzip -c ./script/sample.adm.gz | ./script/fileFeed.sh 127.0.0.1 10001</pre>
<p>For more information about AsterixDB data feed, please refer to thisÂ <a href="https://ci.apache.org/projects/asterixdb/feeds/tutorial.html">page</a>.</p>
<p><strong>Step 3.2</strong> Setup TwitterMap Web Server</p>
<p>The TwitterMap Web application uses the <a href="http://playframework.com">Play Framework</a> to talk to the Cloudberry service. The configuration of the framework is in the file <code>examples/twittermap/web/conf/application.conf</code>. In the file, the <code>cloudberry.register</code> property specifies the HTTP API of Cloudberry:</p>
<pre class="prettyprint">cloudberry.register = "http://CLOUDBERRY-HOST-NAME:CLOUDBERRY-PORT/admin/register"</pre>
<p>When the TwitterMap server starts, it will run</p>
<p><code>twittermap/web/app/controllers/TwitterMapApplication.scala</code>, which will run <code>twittermap/web/app/model/Migration_20170428.scala</code>. This script registers four data sets to the Cloudberry server. They are:</p>
<ul>
<li>twitter.ds_tweet</li>
<li>twitter.dsStatePopulation</li>
<li>twitter.dsCountyPopulation</li>
<li>twitter.dsCityPopulation</li>
</ul>
<p>Cloudberry will talk to AsterixDB to collect information about these data sets. Take the data setÂ <code>twitter.ds_tweet</code> as an example. The script sends the following DDL request to Cloudberry to register the information about this data set in AsterixDB.</p>
<pre class="prettyprint">{
  "dataset":"twitter.ds_tweet",
  "schema":{
  	"typeName":"twitter.typeTweet",
    "dimension":[
      {"name":"create_at","isOptional":false,"datatype":"Time"},
      {"name":"id","isOptional":false,"datatype":"Number"},
      {"name":"coordinate","isOptional":false,"datatype":"Point"},
      {"name":"lang","isOptional":false,"datatype":"String"},
      {"name":"is_retweet","isOptional":false,"datatype":"Boolean"},
      {"name":"hashtags","isOptional":true,"datatype":"Bag","innerType":"String"},
      {"name":"user_mentions","isOptional":true,"datatype":"Bag","innerType":"Number"},
      {"name":"user.id","isOptional":false,"datatype":"Number"},
      {"name":"geo_tag.stateID","isOptional":false,"datatype":"Number"},
      {"name":"geo_tag.countyID","isOptional":false,"datatype":"Number"},
      {"name":"geo_tag.cityID","isOptional":false,"datatype":"Number"},
      {"name":"geo","isOptional":false,"datatype":"Hierarchy","innerType":"Number",
        "levels":[
          {"level":"state","field":"geo_tag.stateID"},
          {"level":"county","field":"geo_tag.countyID"},
          {"level":"city","field":"geo_tag.cityID"}]}
    ],
    "measurement":[
      {"name":"text","isOptional":false,"datatype":"Text"},
      {"name":"in_reply_to_status","isOptional":false,"datatype":"Number"},
      {"name":"in_reply_to_user","isOptional":false,"datatype":"Number"},
      {"name":"favorite_count","isOptional":false,"datatype":"Number"},
      {"name":"retweet_count","isOptional":false,"datatype":"Number"},
      {"name":"user.status_count","isOptional":false,"datatype":"Number"}
    ],
    "primaryKey":["id"],
    "timeField":"create_at"
  }
}</pre>
<p>In the configuration fileÂ <code>twittermap/web/conf/application.conf</code>, the <code>cloudberry.ws</code> property tells the front-end the Web socket address of the Cloudbery server.</p>
<pre class="prettyprint">cloudberry.ws = "ws://CLOUDBERRY_HOST_NAME:CLOUDBERRY_PORT/ws"</pre>
<p>The frontend uses the web socket to communicate with the Cloudberry server directly. The corresponding logic can be found in</p>
<p><code>twittermap/web/public/javascripts/common/services.js</code> file. For more information about how to write registration DDL and Cloudberry request please refer to this <a href="/documentation">page</a>.</p>
<h1>4. Build your own application</h1>
<p>TwitterMap is one example of how to use Cloudberry. To develop your own application, you can do the following steps:</p>
<ol>
<li>Use AsterixDB to create your own data sets;</li>
<li>Register the necessary datasets into Cloudberry as in Step 3.2;</li>
<li>Set up the Web socket connection between the front-end web page and the Cloudberry server as in Step 3.2;</li>
<li>Define your queries and responses as inÂ <code class="highlighter-rouge">twittermap/web/public/javascripts/common/services.js</code>.</li>
</ol>
<div class="container" role="main">
<div class="row">
<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
<p>Have fun! If you need assistance, please feel to contact us at ics-cloudberry@uci.edu</p>
</div>
</div>
</div>
<p><!-- Created with Elementor --></p>
	</div> 
</article>
				
			</div><!-- #content -->

			
		</div><!-- #primary -->

		
		
	</div><!-- #content-wrap -->

	

        </main><!-- #main -->

        
        
        
            
<footer id="footer" class="site-footer" itemscope="itemscope" itemtype="http://schema.org/WPFooter">

    
    <div id="footer-inner" class="clr">

        

<div id="footer-widgets" class="oceanwp-row clr">

	
	<div class="footer-widgets-inner container">

        			<div class="footer-box span_1_of_4 col col-1">
							</div><!-- .footer-one-box -->

							<div class="footer-box span_1_of_4 col col-2">
									</div><!-- .footer-one-box -->
						
							<div class="footer-box span_1_of_4 col col-3 ">
									</div><!-- .footer-one-box -->
			
							<div class="footer-box span_1_of_4 col col-4">
									</div><!-- .footer-box -->
			
		
	</div><!-- .container -->

	
</div><!-- #footer-widgets -->



<div id="footer-bottom" class="clr no-footer-nav">

	
	<div id="footer-bottom-inner" class="container clr">

		
		
			<div id="copyright" class="clr" role="contentinfo">
				Cloudberry  â€¢  2018  â€¢  cloudberry.ics.uci.edu			</div><!-- #copyright -->

		
	</div><!-- #footer-bottom-inner -->

	
</div><!-- #footer-bottom -->

        
    </div><!-- #footer-inner -->

    
</footer><!-- #footer -->            
        
                        
    </div><!-- #wrap -->

    
</div><!-- #outer-wrap -->



<a id="scroll-top" href="#"><span class="fa fa-arrow-up"></span></a>


<div id="sidr-close">
	<a href="#" class="toggle-sidr-close">
		<i class="icon icon-close"></i><span class="close-text">Close Menu</span>
	</a>
</div>
    
    
<div id="mobile-menu-search" class="clr">
	<form method="get" action="http://cloudberry.ics.uci.edu/" class="mobile-searchform">
		<input type="search" name="s" autocomplete="off" placeholder="Search" />
		<button type="submit" class="searchform-submit">
			<i class="icon icon-magnifier"></i>
		</button>
			</form>
</div><!-- .mobile-menu-search -->

<script type='text/javascript' src='http://cloudberry.ics.uci.edu/wp-content/plugins/simple-code-highlighter/js/pretty.js?ver=4.9.5'></script>
<script type='text/javascript' src='http://cloudberry.ics.uci.edu/wp-includes/js/imagesloaded.min.js?ver=3.2.0'></script>
<script type='text/javascript' src='http://cloudberry.ics.uci.edu/wp-content/themes/oceanwp/assets/js/third/magnific-popup.min.js?ver=1.5.10'></script>
<script type='text/javascript' src='http://cloudberry.ics.uci.edu/wp-content/themes/oceanwp/assets/js/third/lightbox.min.js?ver=1.5.10'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var oceanwpLocalize = {"isRTL":"","menuSearchStyle":"disabled","sidrSource":"#sidr-close, #site-navigation, #mobile-menu-search","sidrDisplace":"1","sidrSide":"left","sidrDropdownTarget":"icon","verticalHeaderTarget":"icon","customSelects":".woocommerce-ordering .orderby, #dropdown_product_cat, .widget_categories select, .widget_archive select, .single-product .variations_form .variations select"};
/* ]]> */
</script>
<script type='text/javascript' src='http://cloudberry.ics.uci.edu/wp-content/themes/oceanwp/assets/js/main.min.js?ver=1.5.10'></script>
<script type='text/javascript' src='http://cloudberry.ics.uci.edu/wp-content/plugins/wp-markdown/js/prettify.min.js?ver=1.6.1'></script>
<script type='text/javascript' src='http://cloudberry.ics.uci.edu/wp-content/plugins/enlighter/resources/mootools-core-yc.js?ver=3.5'></script>
<script type='text/javascript' src='http://cloudberry.ics.uci.edu/wp-content/plugins/enlighter/resources/EnlighterJS.min.js?ver=3.5'></script>
<script type='text/javascript' src='http://cloudberry.ics.uci.edu/wp-includes/js/wp-embed.min.js?ver=4.9.5'></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='http://cloudberry.ics.uci.edu/wp-content/themes/oceanwp/assets/js//third/html5.min.js?ver=1.5.10'></script>
<![endif]-->
<script type="text/javascript">/* <![CDATA[ */EnlighterJS_Config = {"selector":{"block":"pre.EnlighterJSRAW","inline":"code.EnlighterJSRAW"},"language":"generic","theme":"enlighter","indent":2,"hover":"hoverEnabled","showLinenumbers":true,"rawButton":true,"infoButton":true,"windowButton":true,"rawcodeDoubleclick":false,"grouping":true,"cryptex":{"enabled":false,"email":"mail@example.tld"}};!function(){var a=function(a){var b="Enlighter Error: ";console.error?console.error(b+a):console.log&&console.log(b+a)};return window.addEvent?"undefined"==typeof EnlighterJS?void a("Javascript Resources not loaded yet!"):"undefined"==typeof EnlighterJS_Config?void a("Configuration not loaded yet!"):void window.addEvent("domready",function(){EnlighterJS.Util.Init(EnlighterJS_Config.selector.block,EnlighterJS_Config.selector.inline,EnlighterJS_Config)}):void a("MooTools Framework not loaded yet!")}();;/* ]]> */</script></body>
</html>Mis_redirected¢DtypeEvalueõIhttp_code¢DtypeEvalueÈQdownload_complete¢DtypeEvalueõ
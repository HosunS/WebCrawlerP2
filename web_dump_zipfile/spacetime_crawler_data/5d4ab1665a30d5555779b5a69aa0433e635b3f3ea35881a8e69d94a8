¦Ifinal_url¡DtypeLhttp_headers¢DtypeEvalue‰¢Ak¢DtypeEvalueNContent-LengthAv¢DtypeEvalueE22796¢Ak¢DtypeEvalueJSet-CookieAv¢DtypeEvalueX°trac_form_token=bd5da1cb03debe4499ed2888; httponly; Path=/wiki/public, trac_session=9ab3ff6b77c8b15378fe2d5b; expires=Mon, 06 May 2019 22:17:28 GMT; httponly; Path=/wiki/public¢Ak¢DtypeEvalueGExpiresAv¢DtypeEvalueXFri, 01 Jan 1999 00:00:00 GMT¢Ak¢DtypeEvalueJKeep-AliveAv¢DtypeEvalueRtimeout=5, max=100¢Ak¢DtypeEvalueFServerAv¢DtypeEvalueX„Apache/2.4.6 (CentOS) OpenSSL/1.0.2k-fips SVN/1.7.14 mod_wsgi/3.4 Python/2.7.5 Phusion_Passenger/4.0.53 mod_perl/2.0.10 Perl/v5.16.3¢Ak¢DtypeEvalueJConnectionAv¢DtypeEvalueJKeep-Alive¢Ak¢DtypeEvalueMCache-ControlAv¢DtypeEvalueOmust-revalidate¢Ak¢DtypeEvalueDDateAv¢DtypeEvalueXTue, 05 Feb 2019 22:17:28 GMT¢Ak¢DtypeEvalueLContent-TypeAv¢DtypeEvalueWtext/html;charset=utf-8Kraw_content¢DtypeEvalueYY<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

    <html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      cs122b-2019-winter-project1-install-tomcat-on-aws (diff) â€“ Public
    </title>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="/wiki/public/search" />
        <link rel="help" href="/wiki/public/wiki/TracGuide" />
        <link rel="up" href="/wiki/public/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws?action=history" title="Page history" />
        <link rel="next" href="/wiki/public/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws?action=diff&amp;version=2" title="Version 2" />
        <link rel="start" href="/wiki/public/wiki" />
        <link rel="stylesheet" href="/wiki/public/chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="/wiki/public/chrome/common/css/wiki.css" type="text/css" /><link rel="stylesheet" href="/wiki/public/chrome/common/css/diff.css" type="text/css" /><link rel="stylesheet" href="/wiki/public/chrome/tracwysiwyg/wysiwyg.css" type="text/css" />
        <link rel="tracwysiwyg.stylesheet" href="/wiki/public/chrome/common/css/trac.css" /><link rel="tracwysiwyg.stylesheet" href="/wiki/public/chrome/tracwysiwyg/editor.css" />
        <link rel="tracwysiwyg.base" href="/wiki/public" />
        <link rel="shortcut icon" href="/wiki/public/chrome/site/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="/wiki/public/chrome/site/favicon.ico" type="image/x-icon" />
    <style id="trac-noscript" type="text/css">.trac-noscript { display: none !important }</style>
    <script type="text/javascript">
      var _tracwysiwyg={};
    </script>
      <script type="text/javascript" charset="utf-8" src="/wiki/public/chrome/common/js/jquery.js"></script>
      <script type="text/javascript" charset="utf-8" src="/wiki/public/chrome/common/js/babel.js"></script>
      <script type="text/javascript" charset="utf-8" src="/wiki/public/chrome/common/js/trac.js"></script>
      <script type="text/javascript" charset="utf-8" src="/wiki/public/chrome/common/js/search.js"></script>
      <script type="text/javascript" charset="utf-8" src="/wiki/public/chrome/common/js/diff.js"></script>
      <script type="text/javascript" charset="utf-8" src="/wiki/public/chrome/tracwysiwyg/wysiwyg.js"></script>
    <script type="text/javascript">
      jQuery("#trac-noscript").remove();
      jQuery(document).ready(function($) {
        $(".trac-autofocus").focus();
        $(".trac-target-new").attr("target", "_blank");
        setTimeout(function() { $(".trac-scroll").scrollToTop() }, 1);
        $(".trac-disable-on-submit").disableOnSubmit();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="/wiki/public/chrome/common/css/diff.css" />
    <meta name="ROBOTS" content="NOINDEX, NOFOLLOW" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.ics.uci.edu/"><img src="/wiki/public/chrome/site/ics.jpg" alt="ICS Logo" height="67" width="128" /></a>
      </div>
      <form id="search" action="/wiki/public/search" method="get">
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="/wiki/public/login">Login</a></li><li><a href="/wiki/public/prefs">Preferences</a></li><li class="last"><a href="/wiki/public/about">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
        <ul>
          <li class="first"><span class="missing">&larr; Previous Change</span></li><li><a href="/wiki/public/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws?action=history" title="Page history">Wiki History</a></li><li class="last"><span><a class="next" href="/wiki/public/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws?action=diff&amp;version=2" title="Version 2">Next Change</a> &rarr;</span></li>
        </ul>
        <hr />
      </div>
    <div id="content" class="wiki">
      <h1>
        Changes between
          <a href="/wiki/public/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws?version=0">Initial Version</a> and
          <a href="/wiki/public/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws?version=1">Version 1</a> of
          <a href="/wiki/public/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws">cs122b-2019-winter-project1-install-tomcat-on-aws</a>
      </h1>
      <form method="post" id="prefs" action="/wiki/public/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws?version=1"><div><input type="hidden" name="__FORM_TOKEN" value="bd5da1cb03debe4499ed2888" /></div>
        <div>
          <input type="hidden" name="action" value="diff" />
          <input type="hidden" name="version" value="1" />
          <input type="hidden" name="old_version" value="0" />
          
  <label for="style">View differences</label>
  <select id="style" name="style">
    <option selected="selected" value="inline">inline</option>
    <option value="sidebyside">side by side</option>
  </select>
  <div class="field">
    <label><input type="radio" name="contextall" value="0" checked="checked" />
             Show</label>
      <label><input type="text" name="contextlines" id="contextlines" size="2" maxlength="3" value="2" />
             lines around each change</label><br />
    <label><input type="radio" name="contextall" value="1" />
           Show the changes in full context</label>
  </div>
  <fieldset id="ignore">
    <legend>Ignore:</legend>
    <div class="field">
      <input type="checkbox" id="ignoreblanklines" name="ignoreblanklines" />
      <label for="ignoreblanklines">Blank lines</label>
    </div>
    <div class="field">
      <input type="checkbox" id="ignorecase" name="ignorecase" />
      <label for="ignorecase">Case changes</label>
    </div>
    <div class="field">
      <input type="checkbox" id="ignorewhitespace" name="ignorewhitespace" />
      <label for="ignorewhitespace">White space changes</label>
    </div>
  </fieldset>
  <div class="buttons">
    <input type="submit" name="update" value="Update" />
  </div>

        </div>
      </form>
      <dl id="overview">
        <dt class="property time">Timestamp:</dt>
        <dd class="time">
            Jan 8, 2019 11:45:01 PM (<a class="timeline" href="/wiki/public/timeline?from=2019-01-08T23%3A45%3A01-08%3A00&amp;precision=second" title="See timeline at Jan 8, 2019 11:45:01 PM">4 weeks</a> ago)
        </dd>
        <dt class="property author">Author:</dt>
        <dd class="author">
          michaelwbh
        </dd>
        <dt class="property message">Comment:</dt>
        <dd class="message">
          
          <p>
--
</p>

        </dd>
      </dl>
      <div class="diff">
        <div class="legend" id="diff-legend">
          <h3>Legend:</h3>
          <dl>
            <dt class="unmod"></dt><dd>Unmodified</dd>
            <dt class="add"></dt><dd>Added</dd>
            <dt class="rem"></dt><dd>Removed</dd>
            <dt class="mod"></dt><dd>Modified</dd>
          </dl>
        </div>
        <div class="diff">
  <ul class="entries">
      <li class="entry">
        <h2 id="file0">
          <a href="/wiki/public/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws?version=1">cs122b-2019-winter-project1-install-tomcat-on-aws</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Version currently edited">
                    <a href="#L1">
                      v1</a>
                  </th>
                  <th title="Version 1">
                    <a href="/wiki/public/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws?version=1#L1">
                      v1</a>
                  </th>
                  <td>Â </td>
                </tr>
              </thead>
            <tbody class="add">
                  <tr class="first">
                          <th>Â </th><th>1</th><td class="r"><ins>This tutorial introduces how to install tomcat 8.5 on AWS Ubuntu instance 16.04.</ins></td>
                  </tr><tr>
                          <th>Â </th><th>2</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>3</th><td class="r"><ins>== Start your AWS instance, and connect to it using SSH. ==</ins></td>
                  </tr><tr>
                          <th>Â </th><th>4</th><td class="r"><ins>For this step, please refer to the previous tutorial on how to use AWS.</ins></td>
                  </tr><tr>
                          <th>Â </th><th>5</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>6</th><td class="r"><ins>== Download Tomcat ==</ins></td>
                  </tr><tr>
                          <th>Â </th><th>7</th><td class="r"><ins>You can find latest version of tomcat 8.5.x fromÂ http://tomcat.apache.org/download-80.cgi.&nbsp; You can copy the download URL and use the wget command on AWS to download it.</ins></td>
                  </tr><tr>
                          <th>Â </th><th>8</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>9</th><td class="r"><ins>Then use wget on your AWS machine to download it:</ins></td>
                  </tr><tr>
                          <th>Â </th><th>10</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>11</th><td class="r"><ins>{{{</ins></td>
                  </tr><tr>
                          <th>Â </th><th>12</th><td class="r"><ins>wget latest_tomcat_download_url (it should look like this:&nbsp; http://apache.mirrors.pair.com/tomcat/tomcat-8/v8.5.30/bin/apache-tomcat-8.5.30.tar.gz</ins></td>
                  </tr><tr>
                          <th>Â </th><th>13</th><td class="r"><ins>}}}</ins></td>
                  </tr><tr>
                          <th>Â </th><th>14</th><td class="r"><ins>After you download the tar.gz, decompress it to a desired destination (for example, I use /home/ubuntu/tomcat)</ins></td>
                  </tr><tr>
                          <th>Â </th><th>15</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>16</th><td class="r"><ins>{{{</ins></td>
                  </tr><tr>
                          <th>Â </th><th>17</th><td class="r"><ins>mkdir /home/ubuntu/tomcat</ins></td>
                  </tr><tr>
                          <th>Â </th><th>18</th><td class="r"><ins>}}}</ins></td>
                  </tr><tr>
                          <th>Â </th><th>19</th><td class="r"><ins>{{{</ins></td>
                  </tr><tr>
                          <th>Â </th><th>20</th><td class="r"><ins>tar xvf apache-tomcat-8.5.29.tar.gz -C /home/ubuntu/tomcat/ --strip-components=1</ins></td>
                  </tr><tr>
                          <th>Â </th><th>21</th><td class="r"><ins>}}}</ins></td>
                  </tr><tr>
                          <th>Â </th><th>22</th><td class="r"><ins>Now go toÂ /home/ubuntu/tomcat/, and use ls, you show see the following contents:</ins></td>
                  </tr><tr>
                          <th>Â </th><th>23</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>24</th><td class="r"><ins>[[Image(wiki:cs122b-2019-winter-project1-install-tomcat-on-aws:tomcat-dir.jpeg)]]</ins></td>
                  </tr><tr>
                          <th>Â </th><th>25</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>26</th><td class="r"><ins>== Configure Tomcat Memory ==</ins></td>
                  </tr><tr>
                          <th>Â </th><th>27</th><td class="r"><ins>By default, the maximum heap available for Tomcat may not be enough for large projects. Thus, we need to change the memory configuration by the following steps.</ins></td>
                  </tr><tr>
                          <th>Â </th><th>28</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>29</th><td class="r"><ins>Go toÂ /home/ubuntu/tomcat/bin/, and create a text file name setenv.sh, which contains the following lines:</ins></td>
                  </tr><tr>
                          <th>Â </th><th>30</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>31</th><td class="r"><ins>{{{</ins></td>
                  </tr><tr>
                          <th>Â </th><th>32</th><td class="r"><ins>#!/bin/sh</ins></td>
                  </tr><tr>
                          <th>Â </th><th>33</th><td class="r"><ins>env JAVA_OPTS="-Xmx512m -Xms128m"</ins></td>
                  </tr><tr>
                          <th>Â </th><th>34</th><td class="r"><ins>}}}</ins></td>
                  </tr><tr>
                          <th>Â </th><th>35</th><td class="r"><ins>Xmx means the maximum heap memory available for Tomcat, and Xms means the initial memory available after each garbage collection. You may vary them based on your machine capacity.</ins></td>
                  </tr><tr>
                          <th>Â </th><th>36</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>37</th><td class="r"><ins>== Change Access Setting of host-manager and manager ==</ins></td>
                  </tr><tr>
                          <th>Â </th><th>38</th><td class="r"><ins>host-manager and manager are two useful default applications provided by Tomcat to manage the Tomcat server. However, by default they can be accessed by only the machine hosting tomcat, i.e., localhost.</ins></td>
                  </tr><tr>
                          <th>Â </th><th>39</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>40</th><td class="r"><ins>To change this, you need to change /'''home/ubuntu/tomcat/webapps/host-manager/META-INF/context.xml''' and '''/home/ubuntu/tomcat/webapps/manager/META-INF/context.xml''' by deleting the following lines:</ins></td>
                  </tr><tr>
                          <th>Â </th><th>41</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>42</th><td class="r"><ins>{{{</ins></td>
                  </tr><tr>
                          <th>Â </th><th>43</th><td class="r"><ins>&lt;Valve className="org.apache.catalina.valves.RemoteAddrValve"Â </ins></td>
                  </tr><tr>
                          <th>Â </th><th>44</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>45</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; allow="127\.\d+\.\d+\.\d+|::1|0:0:0:0:0:0:0:1" /&gt;</ins></td>
                  </tr><tr>
                          <th>Â </th><th>46</th><td class="r"><ins>}}}</ins></td>
                  </tr><tr>
                          <th>Â </th><th>47</th><td class="r"><ins>== Create a Tomcat User ==</ins></td>
                  </tr><tr>
                          <th>Â </th><th>48</th><td class="r"><ins>Now, create a tomcat user so that you can manage the tomcat server remotely.</ins></td>
                  </tr><tr>
                          <th>Â </th><th>49</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>50</th><td class="r"><ins>Edit /home/ubuntu/tomcat/conf/tomcat-users.xml, and add the following line:</ins></td>
                  </tr><tr>
                          <th>Â </th><th>51</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>52</th><td class="r"><ins>{{{</ins></td>
                  </tr><tr>
                          <th>Â </th><th>53</th><td class="r"><ins>&lt;user username="tomcat" password="123456" roles="manager-gui,admin-gui"/&gt;</ins></td>
                  </tr><tr>
                          <th>Â </th><th>54</th><td class="r"><ins>}}}</ins></td>
                  </tr><tr>
                          <th>Â </th><th>55</th><td class="r"><ins>[[Image(wiki:cs122b-2019-winter-project1-install-tomcat-on-aws:tomcat-users.jpeg)]]</ins></td>
                  </tr><tr>
                          <th>Â </th><th>56</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>57</th><td class="r"><ins>By doing so, you've created a user named "tomcat", and its password is "123456". You've also granted two roles "manager-gui" and "admin-gui" to it.</ins></td>
                  </tr><tr>
                          <th>Â </th><th>58</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>59</th><td class="r"><ins>== Start Tomcat ==</ins></td>
                  </tr><tr>
                          <th>Â </th><th>60</th><td class="r"><ins>Now you are ready to start tomcat by executing the following command:</ins></td>
                  </tr><tr>
                          <th>Â </th><th>61</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>62</th><td class="r"><ins>{{{</ins></td>
                  </tr><tr>
                          <th>Â </th><th>63</th><td class="r"><ins>/home/ubuntu/tomcat/bin/startup.sh</ins></td>
                  </tr><tr>
                          <th>Â </th><th>64</th><td class="r"><ins>}}}</ins></td>
                  </tr><tr>
                          <th>Â </th><th>65</th><td class="r"><ins>If you see this, then it means your tomcat has started properly.</ins></td>
                  </tr><tr>
                          <th>Â </th><th>66</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>67</th><td class="r"><ins>== Open port for AWS ==</ins></td>
                  </tr><tr>
                          <th>Â </th><th>68</th><td class="r"><ins>If you do the above steps on your local machine, then you should be able to accessÂ http://localhost:8080Â from your browser to access tomcat.</ins></td>
                  </tr><tr>
                          <th>Â </th><th>69</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>70</th><td class="r"><ins>However, on AWS, the port 8080 is not opened to public by default. Thus, you need to open it as follows.</ins></td>
                  </tr><tr>
                          <th>Â </th><th>71</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>72</th><td class="r"><ins>Go to your AWS console, and click the item under "'''Security Groups'''" for your instance.</ins></td>
                  </tr><tr>
                          <th>Â </th><th>73</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>74</th><td class="r"><ins>[[Image(wiki:cs122b-2019-winter-project1-install-tomcat-on-aws:security_group.jpeg)]]</ins></td>
                  </tr><tr>
                          <th>Â </th><th>75</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>76</th><td class="r"><ins>Click "Edit" to add more inbound rules:</ins></td>
                  </tr><tr>
                          <th>Â </th><th>77</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>78</th><td class="r"><ins>[[Image(wiki:cs122b-2019-winter-project1-install-tomcat-on-aws:add-rule.jpeg)]]</ins></td>
                  </tr><tr>
                          <th>Â </th><th>79</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>80</th><td class="r"><ins>== Access Tomcat ==</ins></td>
                  </tr><tr>
                          <th>Â </th><th>81</th><td class="r"><ins>Now you should be able to access your tomcat server usingÂ http://public_ip:8080, and you should be able to see the following page:</ins></td>
                  </tr><tr>
                          <th>Â </th><th>82</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>83</th><td class="r"><ins>[[Image(wiki:cs122b-2019-winter-project1-install-tomcat-on-aws:tomcat.jpeg)]]</ins></td>
                  </tr><tr>
                          <th>Â </th><th>84</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>85</th><td class="r"><ins>If you want to access manager or host-manager, just click the button on the right, and type the username/password you've set in the tomcat-users.xml file.</ins></td>
                  </tr><tr>
                          <th>Â </th><th>86</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>87</th><td class="r"><ins>[[Image(wiki:cs122b-2019-winter-project1-install-tomcat-on-aws:manager-pwd.jpeg)]]</ins></td>
                  </tr><tr>
                          <th>Â </th><th>88</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th>Â </th><th>89</th><td class="r"><ins>[[Image(wiki:cs122b-2019-winter-project1-install-tomcat-on-aws:manager.jpeg)]]</ins></td>
                  </tr><tr>
                          <th>Â </th><th>90</th><td class="r"><ins></ins></td>
                  </tr><tr class="last">
                          <th>Â </th><th>91</th><td class="r"><ins>&gt;</ins></td>
                  </tr>
            </tbody>
        </table>
      </li>
  </ul>
</div>
      </div>
  </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="/wiki/public/chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="/wiki/public/about"><strong>Trac 1.0.13</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
Mis_redirected¢DtypeEvalueôIhttp_code¢DtypeEvalueÈQdownload_complete¢DtypeEvalueõ
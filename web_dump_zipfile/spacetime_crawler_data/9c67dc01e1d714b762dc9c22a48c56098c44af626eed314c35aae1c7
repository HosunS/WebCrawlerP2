¦Ifinal_url¡DtypeLhttp_headers¢DtypeEvalue‡¢Ak¢DtypeEvalueNContent-LengthAv¢DtypeEvalueD1206¢Ak¢DtypeEvalueMAccept-RangesAv¢DtypeEvalueEbytes¢Ak¢DtypeEvalueFServerAv¢DtypeEvalueX„Apache/2.4.6 (CentOS) OpenSSL/1.0.2k-fips SVN/1.7.14 mod_wsgi/3.4 Python/2.7.5 Phusion_Passenger/4.0.53 mod_perl/2.0.10 Perl/v5.16.3¢Ak¢DtypeEvalueMLast-ModifiedAv¢DtypeEvalueXWed, 17 Apr 2013 01:54:03 GMT¢Ak¢DtypeEvalueDETagAv¢DtypeEvalueS"4b6-4da84c2a564c0"¢Ak¢DtypeEvalueDDateAv¢DtypeEvalueXThu, 07 Feb 2019 23:15:29 GMT¢Ak¢DtypeEvalueLContent-TypeAv¢DtypeEvalueXtext/plain; charset=UTF-8Kraw_content¢DtypeEvalueY¶/*
 $Id: kwdsstorage.h 6148 2012-02-22 23:13:40Z salsubaiee $

 Copyright (C) 2010 by The Regents of the University of California

 Redistribution of this file is permitted under
 the terms of the BSD license.

 Date: 08/19/2010
 Author: Sattam Alsubaiee <salsubai (at) ics.uci.edu>
*/

#include <iostream>
#include <fstream>
#include <string>
#include <cstdlib>
#include <stdint.h>
#include <tr1/unordered_map>

using namespace std;
using namespace tr1;

struct IndexNode
{
    uintptr_t position;
    size_t size;
    uintptr_t id;
    unsigned numKeywords;
};

class KeywordsFile
{
private:
    char *buffer;
    fstream keywordsFile;
    string keywordsFileName;
    unordered_map<uintptr_t, IndexNode> indexMap;

    void readIndex(string indexFileName, bool newFile);
    void writeIndex();
public:
    KeywordsFile(string fileName);
    ~KeywordsFile();
    unordered_map <uintptr_t, IndexNode>::iterator begin();
    unordered_map <uintptr_t, IndexNode>::iterator end();
    IndexNode getIndexNode(uintptr_t id);
    bool open(bool newFile = false);
    string read(uintptr_t id);
    bool write(string text, uintptr_t id, unsigned numKeywords);
    void close();
    unsigned getRecordCount();
};
Mis_redirected¢DtypeEvalueôIhttp_code¢DtypeEvalueÈQdownload_complete¢DtypeEvalueõ